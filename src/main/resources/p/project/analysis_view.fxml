<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.ListView?>

<AnchorPane xmlns:fx="http://javafx.com/fxml" fx:controller="p.project.Controllers.AnalysisController" style="
    -fx-background-color: #ffffff; /* Clean white background */
    -fx-padding: 20px;
    -fx-border-radius: 10px;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.15), 10, 0, 0, 5);
">

    <!-- Title -->
    <Label text="Analysis" layoutX="20" layoutY="20" style="
        -fx-font-size: 30px;
        -fx-font-family: 'Segoe UI', sans-serif;
        -fx-font-weight: bold;
        -fx-text-fill: #333333; /* Dark text color for readability */
    "/>

    <!-- ComboBox for Optimal List Selection -->
    <Label text="Select Optimal List" layoutX="20" layoutY="80" style="
        -fx-font-size: 16px;
        -fx-font-family: 'Segoe UI', sans-serif;
        -fx-font-weight: bold;
        -fx-text-fill: #50514F;
    "/>
    <ComboBox fx:id="optimalListComboBox" layoutX="20" layoutY="100" prefWidth="200" style="
        -fx-background-color: #f0f0f0;
        -fx-background-radius: 25px;
        -fx-border-color: #cccccc;
        -fx-border-radius: 25px;
        -fx-padding: 8px 10px;
        -fx-font-size: 14px;
        -fx-font-family: 'Segoe UI', sans-serif;
    "/>

    <!-- ComboBox for Custom List Selection -->
    <Label text="Select Custom List" layoutX="20" layoutY="160" style="
        -fx-font-size: 16px;
        -fx-font-family: 'Segoe UI', sans-serif;
        -fx-font-weight: bold;
        -fx-text-fill: #50514F;
    "/>
    <ComboBox fx:id="customListComboBox" layoutX="20" layoutY="180" prefWidth="200" style="
        -fx-background-color: #f0f0f0;
        -fx-background-radius: 25px;
        -fx-border-color: #cccccc;
        -fx-border-radius: 25px;
        -fx-padding: 8px 10px;
        -fx-font-size: 14px;
        -fx-font-family: 'Segoe UI', sans-serif;
    "/>

    <!-- Date Picker for filtering the lists -->
    <Label text="Select Date (Optional)" layoutX="20" layoutY="240" style="
        -fx-font-size: 16px;
        -fx-font-family: 'Segoe UI', sans-serif;
        -fx-font-weight: bold;
        -fx-text-fill: #50514F;
    "/>
    <DatePicker fx:id="dateFilterDatePicker" layoutX="20" layoutY="260" prefWidth="200" style="
        -fx-background-color: #f0f0f0;
        -fx-background-radius: 25px;
        -fx-border-color: #cccccc;
        -fx-border-radius: 25px;
        -fx-padding: 8px 10px;
        -fx-font-size: 14px;
        -fx-font-family: 'Segoe UI', sans-serif;
    "/>

    <!-- Button to Show Comparison -->
    <Button text="Show Comparison" layoutX="20" layoutY="320" prefWidth="200" prefHeight="50" style="
        -fx-background-color: #2196F3;
        -fx-background-radius: 25px;
        -fx-text-fill: white;
        -fx-font-family: 'Segoe UI', sans-serif;
        -fx-font-size: 16px;
        -fx-font-weight: bold;
        -fx-cursor: hand;
        -fx-border-color: #1976D2;
        -fx-border-radius: 25px;
        -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.1), 5, 0, 0, 3);
    " onAction="#onShowComparisonClick"/>

    <!-- Home Button -->
    <Button text="Main Menu" layoutX="20" layoutY="380" prefWidth="200" prefHeight="50" style="
        -fx-background-color: #F44336;
        -fx-background-radius: 25px;
        -fx-text-fill: white;
        -fx-font-family: 'Segoe UI', sans-serif;
        -fx-font-size: 16px;
        -fx-font-weight: bold;
        -fx-cursor: hand;
        -fx-border-color: #333333;
        -fx-border-radius: 25px;
        -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.1), 5, 0, 0, 3);
    " onAction="#handleHome"/>

    <!-- PieChart for Optimal List -->
    <Label text="Optimal List" layoutX="300" layoutY="70" style="
        -fx-font-size: 16px;
        -fx-font-family: 'Segoe UI', sans-serif;
        -fx-font-weight: bold;
    "/>
    <PieChart fx:id="optimalPieChart" layoutX="280" layoutY="50" prefWidth="350" prefHeight="350" style="
        -fx-border-radius: 10px;
        -fx-border-color: #ddd;
    "/>

    <!-- Label for Optimal List Category Cost -->
    <Label fx:id="optimalCategoryCostLabel" layoutX="300" layoutY="420" text="Category Cost: " style="
        -fx-font-size: 16px;
        -fx-font-family: 'Segoe UI', sans-serif;
        -fx-font-weight: bold;
    "/>

    <!-- PieChart for Custom List -->
    <Label text="Custom List" layoutX="650" layoutY="70" style="
        -fx-font-size: 16px;
        -fx-font-family: 'Segoe UI', sans-serif;
        -fx-font-weight: bold;
    "/>
    <PieChart fx:id="customPieChart" layoutX="640" layoutY="50" prefWidth="350" prefHeight="350" style="
        -fx-border-radius: 10px;
        -fx-border-color: #ddd;
    "/>

    <!-- Label for Custom List Category Cost -->
    <Label fx:id="customCategoryCostLabel" layoutX="650" layoutY="420" text="Category Cost: " style="
        -fx-font-size: 16px;
        -fx-font-family: 'Segoe UI', sans-serif;
        -fx-font-weight: bold;
    "/>

    <!-- Total Cost Labels -->
    <Label fx:id="optimalTotalCostLabel" layoutX="300" layoutY="450" text="Total Cost: " style="
        -fx-font-size: 16px;
        -fx-font-family: 'Segoe UI', sans-serif;
        -fx-font-weight: bold;
    "/>
    <Label fx:id="customTotalCostLabel" layoutX="650" layoutY="450" text="Total Cost: " style="
        -fx-font-size: 16px;
        -fx-font-family: 'Segoe UI', sans-serif;
        -fx-font-weight: bold;
    "/>

    <!-- ListViews below the PieCharts -->
    <ListView fx:id="optimalSaleLineItemListView" layoutX="300" layoutY="480" prefWidth="300" prefHeight="150" style="
        -fx-background-color: #f9f9f9;
        -fx-border-radius: 10px;
        -fx-border-color: #ddd;
    "/>
    <ListView fx:id="customSaleLineItemListView" layoutX="650" layoutY="480" prefWidth="300" prefHeight="150" style="
        -fx-background-color: #f9f9f9;
        -fx-border-radius: 10px;
        -fx-border-color: #ddd;
    "/>
</AnchorPane>
